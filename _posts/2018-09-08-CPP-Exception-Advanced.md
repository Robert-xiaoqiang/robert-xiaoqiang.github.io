---
title: CPP-Exception-Advanced
key: 201809080
tags: CPP exception
---

# CPP-Exception-Advanced
> 异常类/异常对象, CPP-runtime/编译器会维护一个副本copy
> 

- 异常与构造函数
   - 抛出异常
      - 别人抛异常 => 我catch
      - 我基本不抛 => 否则, 擦屁股有哪些事 => DO
   - 捕获异常
      - 使用`函数try语句块, try位于冒号之前`, 将捕获的范围扩大到**构造函数初始值列表**(即**构造函数正确姿势**), 即初始化 => 对应被聚合对象的构造函数异常
      - `catch-handler`做什么事情 => DO
   - DO
      - 已知, 已经成功构造的成员对象(非指针, 有成员), 会调用析构
      - 已知, 不会调用自己的析构
      - 问题是`指针维护的资源`比如`堆, 句柄, DB`等依靠`拷贝控制成员`的东西 => 资源泄露
      - 解决方式
         - 使用`smart pointer 对象`,  属于成员对象的析构
         - 此处, 手动执行`析构应有的动作`
- 异常与析构函数
   - 抛出异常
      - 是UB, 
   - 捕获异常

- `RAII`简述